#!/bin/bash -login

#SBATCH -J Blueberry_TE_Density
#SBATCH --time=24:00:00
#SBATCH --ntasks=1
#SBATCH --cpus-per-task=16
#SBATCH --mem-per-cpu=20G
#SBATCH -o Blueberry_Density.out
#SBATCH -e Blueberry_Density.err
#--------------------------------------------------------
ROOT_DIR=/mnt/research/edgerpat_lab/Scotty/TE_Density
DATA_DIR=/mnt/research/edgerpat_lab/Scotty/Blueberry_Data/Genome/
OUT_DATA_DIR=/mnt/research/edgerpat_lab/Scotty/Blueberry_Data/Blueberry_TE_Density
GENOME="Vacc_Cory"


# Load the Python scripts
module load GCC/7.3.0-2.30 OpenMPI/3.1.1 Python/3.7.0

# Source the Python packages that are version controlled
source /mnt/research/edgerpat_lab/Scotty/venvs/TE_Density/bin/activate

# Go to project directory
#cd $(ROOT_DIR)
cd $OUT_DATA_DIR

#cd $(OUT_DATA_DIR)/overlap && rm 
# Run the code
python $ROOT_DIR/process_genome.py $DATA_DIR/V_corymbosum_v1.0_geneModels.gff $DATA_DIR/V_corymbosum_v1.0_TEs.gff $GENOME -c $ROOT_DIR/config/production_run_config.ini  --output_dir $OUT_DATA_DIR --tmp_overlap $OUT_DATA_DIR/tmp/overlap -n 16 -vv
